(this.webpackJsonpadflix=this.webpackJsonpadflix||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(28),i=a.n(c),s=(a(67),a(16)),l=a(8),m=a.n(l),u=a(17),p=a(2),d=a(3),v=a(5),h=a(4),g=a(6),f=a(22),b=a.n(f),y=a(19),E=a(21),O=a(20),j=a(12),k=a.n(j),N=(a(89),function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getNumber()}},{key:"render",value:function(){return o.a.createElement("div",{className:"header"},o.a.createElement(y.b,{to:{pathname:"/"}},o.a.createElement(k.a,{className:"header--movie",name:"film",size:"5x"})),o.a.createElement("h3",null,"ADFLIX"),o.a.createElement(y.b,{to:{pathname:"/player"}},o.a.createElement(k.a,{className:"header--heart",name:"heart",size:"5x"})),o.a.createElement("div",{className:"header--badge"},this.props.badge))}}]),t}(r.Component)),w=Object(O.b)((function(e){return{badge:e.movies.number}}),(function(e){return{getNumber:function(){return e(function(){var e=JSON.parse(localStorage.getItem("movies"));return{type:"GET_NUMBER",payload:e?e.length:0}}())}}}))(N),S=(a(91),function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"headerImg"},o.a.createElement("img",{src:this.props.imgScr,alt:""}),o.a.createElement("div",{className:"headerImg--overlay"},o.a.createElement("h3",{className:"headerImg--overlay__title"},this.props.title),o.a.createElement("p",{className:"headerImg--overlay__desc"},this.props.overview)))}}]),t}(r.Component)),M=(a(92),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={value:""},a.handleChange=function(e){a.setState({value:e.target.value})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.value;return o.a.createElement("div",{className:"searchBar--container"},o.a.createElement("div",{className:"searchBar"},o.a.createElement("input",{type:"text",className:"searchBar--input",placeholder:"Rechercher un film",value:t,onChange:this.handleChange}),o.a.createElement("div",{onClick:function(){return e.props.onSearchClick(t)}},o.a.createElement(k.a,{className:"searchIcon",name:"search"}))))}}]),t}(r.Component)),_="https://api.themoviedb.org/3",x="http://image.tmdb.org/t/p",D="16f931d6938e74b558cb01e53faf1064",U=(a(93),function(e){function t(){var e,a;Object(p.a)(this,t);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(c)))).renderPoster=function(){return a.props.movies.map((function(e){var t="".concat(x,"/").concat("w500","/").concat(e.poster_path);return n=!1,a.props.localMovies&&a.props.localMovies.forEach((function(t){e.id===t.id&&(n=!0)})),o.a.createElement(I,{key:e.id,imgSrc:t,wished:n,movie:e,mTitle:e.title,mDesc:e.overview,id:e.id})}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"posterList"},o.a.createElement("h3",{className:"posterList--title"},"NOUVEAUX FILMS"),o.a.createElement("div",{className:"posterList--grid"},this.renderPoster()))}}]),t}(r.Component)),B=(a(94),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hover:!1},a.showOverlay=function(){a.state.hover||a.setState({hover:!0})},a.hideOverlay=function(){a.setState({hover:!1})},a.remove=function(){console.log("remove avec redux"),a.props.removeM(a.props.id)},a.add=function(){console.log("add avec redux"),a.props.addM(a.props.movie)},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay,className:"poster"},o.a.createElement(y.b,{to:{pathname:"/".concat(this.props.id)}},o.a.createElement("img",{src:this.props.imgSrc,alt:"poster",className:"poster--img"})),this.state.hover?o.a.createElement("div",{className:"poster--overlay"},o.a.createElement("h3",{className:"poster--overlay__text"},"LISTE DE SOUHAITS"),this.props.wished?o.a.createElement(k.a,{onClick:this.remove,className:"poster--icon",name:"heart",size:"3x"}):o.a.createElement(k.a,{onClick:this.add,className:"poster--icon__not",name:"heart-o",size:"3x"})):null)}}]),t}(r.Component)),I=Object(O.b)(null,(function(e){return{addM:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("movies"));return t?t=[].concat(Object(s.a)(t),[e]):(t=[]).push(e),localStorage.setItem("movies",JSON.stringify(t)),{type:"ADD_MOVIE",payload:t}}(t))},removeM:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("movies")).filter((function(t){return t.id!==e}));return localStorage.setItem("movies",JSON.stringify(t)),{type:"REMOVE_MOVIE",payload:t}}(t))}}}))(B),T=(a(95),function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,this.props.loading?o.a.createElement(L,null):o.a.createElement("div",{onClick:this.props.onButtonClick,className:"loadButton"},o.a.createElement("h3",{className:"loadButton-text"},"VOIR PLUS")))}}]),t}(r.Component)),C=a(58),A=a(59);a(26).b.add(A.a);var L=function(e){return o.a.createElement(C.a,{icon:"spinner",pulse:!0,size:"7x",className:"fa-faSpinner"})},P=(a(98),function(e){return o.a.createElement("div",{className:"container"},o.a.createElement(k.a,{name:e.iconName,size:"5x"}),o.a.createElement("h3",{className:"container--title"},e.content))}),V=(a(99),function(e){return o.a.createElement("div",{className:"stars"},e.fakeArray1.map((function(e,t){return o.a.createElement(k.a,{key:t,className:"stars",name:"star",size:"3x"})})),e.fakeArray2.map((function(e,t){return o.a.createElement(k.a,{key:t,className:"stars",name:"star-o",size:"3x"})})))}),R=(a(100),function(e){return o.a.createElement("div",{className:"actorList"},o.a.createElement("h3",{className:"actorList--title"}," ACTEURS "),o.a.createElement("div",{className:"actorList--grid"},e.actors.map((function(e,t){var a="".concat(x,"/").concat("w500","/").concat(e.profile_path);return o.a.createElement(F,{key:t,imgSrc:a,name:e.name,hover:!1})}))))}),F=(a(101),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={hover:!1},a.showOverlay=function(){a.state.hover||a.setState({hover:!0})},a.hideOverlay=function(){a.setState({hover:!1})},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.name.split(" ");return o.a.createElement("div",{className:"actor",onMouseEnter:this.showOverlay,onMouseLeave:this.hideOverlay},o.a.createElement("img",{src:this.props.imgSrc,alt:"actor",className:"actor--img"}),this.state.hover?o.a.createElement("div",{className:"actor--overlay"},o.a.createElement("h3",{className:"actor--name"},e[0]),o.a.createElement("h3",{className:"actor--name"},e[1])):null)}}]),t}(r.Component)),J=function(e){var t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")},z=(a(102),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).calcVote=function(){a.fakeArray1=[],a.fakeArray2=[];for(var e=Math.round(a.props.vote/2),t=5-e,n=0;n<e;n++)a.fakeArray1.push("1");if(0!==t)for(var r=0;r<t;r++)a.fakeArray2.push("1")},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){this.calcVote();var e,t="".concat(x,"/").concat("w500","/").concat(this.props.imgSrc);return o.a.createElement("div",{className:"headerDetails"},o.a.createElement("div",{className:"badge-decoration"},this.props.status),o.a.createElement("div",{className:"headerDetails--poster"},o.a.createElement("img",{src:t,alt:"poster",className:"headerDetails--poster__img"})),o.a.createElement("div",{className:"headerDetails--container"},o.a.createElement("h3",{className:"headerDetails--container__title"},this.props.mTitle),o.a.createElement("p",{className:"headerDetails--container__desc"},this.props.mDesc),o.a.createElement("div",{className:"headerDetails--info"},o.a.createElement(P,{iconName:"clock",content:J(this.props.runtime)}),o.a.createElement(V,{fakeArray1:this.fakeArray1,fakeArray2:this.fakeArray2}),o.a.createElement(P,{iconName:"money",content:(e=this.props.revenue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e))}))))}}]),t}(r.Component)),X=a(60),K=a.n(X),Q=(a(108),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleEnded=function(){console.log("video ended")},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"videoPlayer"},o.a.createElement(K.a,{url:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",controls:!0,playing:!1,width:"100%",height:"100%",style:{position:"absolute",top:"0",left:"0"},light:"./images/Fast_Large.jpg",onEnded:this.props.handleEnded}))}}]),t}(r.Component)),G=(a(109),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).renderList=function(e){return e.movies.map((function(t,a){var n=t.id===e.selectedMovie.id;return o.a.createElement(H,Object.assign({},t,{key:t.id,number:a+1,active:n}))}))},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"mvPlayerList"},o.a.createElement("div",{className:"mvPlayerList--header"},o.a.createElement("h3",null,this.props.selectedMovie.title),o.a.createElement("div",{className:"mvPlayerList--badge"},"1","/","10")),o.a.createElement("div",{className:"mvPlayerList--list"},this.renderList(this.props)))}}]),t}(r.Component)),H=(a(110),function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.active?"mvPlayerListItem active":"mvPlayerListItem";return o.a.createElement(y.b,{style:{textDecoration:"none",color:"white"},to:{pathname:"/player/".concat(this.props.id)}},o.a.createElement("div",{className:e},o.a.createElement("div",{className:"mvPlayerListItem--number"},this.props.number),o.a.createElement("div",{className:"mvPlayerListItem--title"},this.props.title),o.a.createElement("div",{className:"mvPlayerListItem--time"},this.props.duration)),o.a.createElement("div",{className:"mvPlayerListItem--divider"}))}}]),t}(r.Component)),W=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.getMovies()}},{key:"render",value:function(){var e=this.props,t=e.mTitle,a=e.mDesc,n=e.image,r=e.movies,c=e.loading;return o.a.createElement("div",null,o.a.createElement(S,{title:t,overview:a,imgScr:n}),o.a.createElement(M,{onSearchClick:this.props.onSearchClick}),o.a.createElement(U,{movies:r,localMovies:this.props.localMovies}),o.a.createElement(T,{onButtonClick:this.props.onButtonClick,loading:c}))}}]),t}(r.Component),$=Object(O.b)((function(e){return{localMovies:e.movies.movies}}),(function(e){return{getMovies:function(){return e({type:"GET_MOVIES",payload:JSON.parse(localStorage.getItem("movies"))})}}}))(W),q=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,actors:[{name:"Julien Kisoni"},{name:"Demi Moore"},{name:"Kevin Hart"},{name:"Chris Rock"}],mTitle:"Batman",mDesc:"Voici la description du film batman",imgSrc:"./images/Fast_large.jpg",revenue:"$15236478",runtime:"2h30",status:"Released",vote:""},a.loadInfos=function(e){return b.a.get(e)},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,o,c,i,l,p,d,v,h=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.id,a="".concat(_,"/movie/").concat(t,"?api_key=").concat(D,"&language=fr"),e.next=5,this.loadInfos(a);case 5:n=e.sent,r=n.data,o=r.revenue,c=r.runtime,i=r.title,l=r.overview,p=r.status,d=r.vote_average,v=r.poster_path,this.setState({revenue:o,runtime:c,mTitle:i,mDesc:l,status:p,imgSrc:v,vote:d},Object(u.a)(m.a.mark((function e(){var a,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(_,"/movie/").concat(t,"/credits?api_key=").concat(D,"&language=fr"),e.next=3,h.loadInfos(a);case 3:n=e.sent,r=n.data.cast,h.setState({actors:Object(s.a)(r),loading:!1});case 6:case"end":return e.stop()}}),e)})))),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.log("e",e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.actors,n=e.mTitle,r=e.mDesc,c=e.imgSrc,i=e.revenue,s=e.runtime,l=e.status,m=e.vote;return o.a.createElement("div",{className:"app"},t?o.a.createElement(L,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(z,{mTitle:n,mDesc:r,imgSrc:c,runtime:s,revenue:i,status:l,vote:m}),o.a.createElement(R,{actors:a})))}}]),t}(r.Component),Y=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,"NOT FOUND"))},Z=a(61),ee=a.n(Z),te=(a(112),[]),ae=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[{duration:"2h 9m",id:429612,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{duration:"2h 9m",id:429617,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{duration:"2h 9m",id:429616,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{duration:"2h 9m",id:429614,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{duration:"2h 9m",id:429611,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}],selectedMovie:{duration:"2h 9m",id:429617,imageUrl:"http://image.tmdb.org/t/p/w1280//5myQbDzw318K9yofUXRJ4UTVgam.jpg",position:1,title:"Spider-Man : Far from home",videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},loading:!0},a.getSelectedMovie=function(e,t){var a=ee.a.find(e,{id:parseInt(t,10)});return console.log(a),a},a.handleEnded=function(){console.log("video ended")},a.getTime=function(e){return new Promise((function(t,a){var n="".concat(_,"/movie/").concat(e,"?api_key=").concat(D,"&language=fr");b.a.get(n).then((function(e){var a=e.data.runtime;t(a)})).catch((function(e){console.log("e",e),a("error",e)}))}))},a.getNewMovies=function(){var e=Object(u.a)(m.a.mark((function e(t){var n,r,o,c,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=0;case 2:if(!(r<t)){e.next=12;break}return o=t[r],c=o.id,e.next=7,a.getTime(c);case 7:i=e.sent,n.push(J(i));case 9:r++,e.next=2;break;case 12:return e.abrupt("return",Promise.all(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.parse(localStorage.getItem("movies")),e.next=3,this.getNewMovies(t);case 3:a=e.sent,te=t.map((function(e,t){return{id:e.id,position:t+1,title:e.title,duration:a[t],imageUrl:"".concat(x,"/").concat("w1280","/").concat(e.backdrop_path),videoUrl:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}})),(n=this.props.match.params.id)?(r=this.getSelectedMovie(te,n),this.setState({loading:!1,movies:Object(s.a)(te),selectedMovie:r})):(o=te[0],this.setState({loading:!1,movies:Object(s.a)(te),selectedMovie:o}),this.props.history.push({pathname:"/player/".concat(o.id)}));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.selectedMovie;return o.a.createElement("div",{className:"moviePlayer"},this.state.loading?o.a.createElement(L,null):o.a.createElement(o.a.Fragment,null,o.a.createElement(Q,{videoUrl:a.videoUrl,imageUrl:a.imageUrl,handleEnded:this.handleEnded}),o.a.createElement(G,{movies:t,selectedMovie:a})))}}]),t}(r.Component),ne=a(23),re=a(39),oe={movies:[],number:0},ce=Object(ne.b)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_MOVIE":return console.log("add movie called",t.payload),{movies:t.payload,number:t.payload.length};case"REMOVE_MOVIE":return console.log("remove movie called",t.payload),{movies:t.payload,number:e.number-1};case"GET_MOVIES":return console.log("getmovie called",t.payload),Object(re.a)({},e,{movies:t.payload});case"GET_NUMBER":return console.log("get number called",t.payload),Object(re.a)({},e,{number:t.payload});default:return e}}}),ie=Object(ne.c)(window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),se=Object(ne.d)(ce,{},ie),le=(a(113),function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,movies:[],badge:0,image:null,mTitle:"",mDesc:"",activePage:0,totalPages:0,searchText:""},a.loadMovies=function(){var e=a.state.activePage+1,t="".concat(_,"/movie/popular?api_key=").concat(D,"&page=").concat(e,"&language=fr");return b.a.get(t)},a.searchMovie=function(){var e="".concat(_,"/search/movie?api_key=").concat(D,"&query=").concat(a.state.searchText,"&language=fr");return b.a.get(e)},a.handleSearch=function(e){try{a.setState({loading:!0,searchText:e,image:null},Object(u.a)(m.a.mark((function e(){var t,n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.searchMovie();case 2:t=e.sent,n=t.data,r=n.results,o=n.page,c=n.total_pages,console.log("res",r),a.setState({movies:r,loading:!1,activePage:o,totalPages:c,image:"".concat(x,"/").concat("w1280","/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview});case 9:case"end":return e.stop()}}),e)}))))}catch(t){console.log("e",t)}console.log("handleSearch",e)},a.loadMore=Object(u.a)(m.a.mark((function e(){var t,n,r,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({loading:!0}),e.next=4,a.loadMovies();case 4:t=e.sent,n=t.data,r=n.results,o=n.page,c=n.total_pages,console.log("res",r),a.setState({movies:[].concat(Object(s.a)(a.state.movies),Object(s.a)(r)),loading:!1,activePage:o,totalPages:c,image:"".concat(x,"/").concat("w1280","/").concat(r[0].backdrop_path),mTitle:r[0].title,mDesc:r[0].overview}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error load more",e.t0);case 16:console.log("loadMore");case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(m.a.mark((function e(){var t,a,n,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.loadMovies();case 3:t=e.sent,a=t.data,n=a.results,r=a.page,o=a.total_pages,console.log("res",n),this.setState({movies:n,loading:!1,activePage:r,totalPages:o,image:"".concat(x,"/").concat("w1280","/").concat(n[0].backdrop_path),mTitle:n[0].title,mDesc:n[0].overview}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("e",e.t0);case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(O.a,{store:se},o.a.createElement(y.a,{basename:"/lab/adflix"},o.a.createElement("div",{className:"App"},o.a.createElement(w,{badge:this.state.badge}),this.state.image?o.a.createElement(E.c,null,o.a.createElement(E.a,{path:"/",exact:!0,render:function(){return o.a.createElement($,Object.assign({},e.state,{onSearchClick:e.handleSearch,onButtonClick:e.loadMore}))}}),o.a.createElement(E.a,{path:"/player",exact:!0,component:ae}),o.a.createElement(E.a,{path:"/player/:id",exact:!0,component:ae}),o.a.createElement(E.a,{path:"/:id",exact:!0,component:q}),o.a.createElement(E.a,{component:Y})):o.a.createElement(L,null))))}}]),t}(r.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},62:function(e,t,a){e.exports=a(114)},67:function(e,t,a){},89:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.2193dd03.chunk.js.map